# æœåŠ¡æä¾›å•†æ”¯æŒæ–¹æ¡ˆ

## ğŸ“‹ æ”¯æŒçš„æœåŠ¡æä¾›å•†

### ğŸ¤ è¯­éŸ³è½¬å½•æœåŠ¡

| æä¾›å•† | ä¼˜åŠ¿ | å®šä»· | æ¨èæŒ‡æ•° |
|--------|------|------|---------|
| **è®¯é£è¯­éŸ³** | âœ… ä¸­æ–‡å‡†ç¡®ç‡æœ€é«˜<br>âœ… å›½å†…æœåŠ¡é€Ÿåº¦å¿«<br>âœ… ä»·æ ¼ä¾¿å®œ | Â¥0.0025/æ¬¡<br>æ–°ç”¨æˆ·500å°æ—¶å…è´¹ | â­â­â­â­â­ |
| **è…¾è®¯äº‘** | âœ… ä¸­æ–‡æ•ˆæœå¥½<br>âœ… æ€§ä»·æ¯”é«˜<br>âœ… ç¨³å®šå¯é  | Â¥0.24/åˆ†é’Ÿ<br>æ¯æœˆ15å°æ—¶å…è´¹ | â­â­â­â­â­ |
| **é˜¿é‡Œäº‘** | âœ… åŠŸèƒ½å…¨é¢<br>âœ… ç”Ÿæ€å®Œå–„ | Â¥0.25/åˆ†é’Ÿ<br>æ–°ç”¨æˆ·è¯•ç”¨ | â­â­â­â­ |
| **Azure** | âœ… å›½é™…æ ‡å‡†<br>âœ… å¤šè¯­è¨€æ”¯æŒ | Â¥7/å°æ—¶<br>æ¯æœˆ5å°æ—¶å…è´¹ | â­â­â­ |
| **AssemblyAI** | âœ… APIç®€å•<br>âœ… è‹±æ–‡å‡†ç¡® | $0.00025/ç§’ | â­â­â­ |
| **OpenAI Whisper** | âœ… å¼€æºå…è´¹<br>âœ… æœ¬åœ°éƒ¨ç½² | å…è´¹ï¼ˆéœ€GPUï¼‰ | â­â­â­â­ |

### ğŸ‘¤ å£°çº¹è¯†åˆ«æœåŠ¡

| æä¾›å•† | ä¼˜åŠ¿ | å®šä»· | æ¨èæŒ‡æ•° |
|--------|------|------|---------|
| **è®¯é£å£°çº¹** | âœ… ä¸­æ–‡ä¼˜åŒ–<br>âœ… è¯†åˆ«å‡†ç¡® | æŒ‰è°ƒç”¨æ¬¡æ•° | â­â­â­â­â­ |
| **è…¾è®¯äº‘** | âœ… æ€§ä»·æ¯”é«˜<br>âœ… æ˜“é›†æˆ | æŒ‰è°ƒç”¨æ¬¡æ•° | â­â­â­â­ |
| **é˜¿é‡Œäº‘** | âœ… ç¨³å®šå¯é  | æŒ‰è°ƒç”¨æ¬¡æ•° | â­â­â­â­ |
| **Azure** | âœ… åŠŸèƒ½å¼ºå¤§ | Â¥35/å°æ—¶ | â­â­â­ |
| **pyannote.audio** | âœ… å¼€æºå…è´¹<br>âœ… æœ¬åœ°éƒ¨ç½² | å…è´¹ï¼ˆéœ€GPUï¼‰ | â­â­â­â­ |

## ğŸ¯ æ¨èé…ç½®

### æ–¹æ¡ˆAï¼šçº¯å›½äº§ï¼ˆæ¨èï¼‰â­â­â­â­â­
```
è½¬å½•ï¼šè®¯é£è¯­éŸ³
å£°çº¹ï¼šè®¯é£å£°çº¹
AIï¼šDeepSeek
è´¹ç”¨ï¼šÂ¥50-100/æœˆ
```

### æ–¹æ¡ˆBï¼šè…¾è®¯äº‘ç”Ÿæ€
```
è½¬å½•ï¼šè…¾è®¯äº‘è¯­éŸ³è¯†åˆ«
å£°çº¹ï¼šè…¾è®¯äº‘å£°çº¹è¯†åˆ«
AIï¼šDeepSeek
è´¹ç”¨ï¼šÂ¥50-150/æœˆ
```

### æ–¹æ¡ˆCï¼šå¼€æºæ–¹æ¡ˆ
```
è½¬å½•ï¼šOpenAI Whisperï¼ˆæœ¬åœ°ï¼‰
å£°çº¹ï¼špyannote.audioï¼ˆæœ¬åœ°ï¼‰
AIï¼šDeepSeek
è´¹ç”¨ï¼šÂ¥20-50/æœˆï¼ˆä»…AIï¼‰
```

### æ–¹æ¡ˆDï¼šAzureå›½é™…æ–¹æ¡ˆ
```
è½¬å½•ï¼šAzure Speech
å£°çº¹ï¼šAzure Speaker Recognition
AIï¼šDeepSeek
è´¹ç”¨ï¼šÂ¥300-500/æœˆ
```

## ğŸ“Š è¯¦ç»†å¯¹æ¯”

### è®¯é£è¯­éŸ³ (iFlytek)

**è½¬å½•æœåŠ¡**ï¼š
- APIæ–‡æ¡£ï¼šhttps://www.xfyun.cn/doc/asr/voicedictation/API.html
- å®æ—¶è½¬å½•ï¼šWebSocket
- æ‰¹é‡è½¬å½•ï¼šHTTP API
- ä¸­æ–‡å‡†ç¡®ç‡ï¼š95%+
- å“åº”é€Ÿåº¦ï¼š<100ms
- å…è´¹é¢åº¦ï¼šæ–°ç”¨æˆ·500å°æ—¶

**å£°çº¹è¯†åˆ«**ï¼š
- APIæ–‡æ¡£ï¼šhttps://www.xfyun.cn/doc/voiceprint/introduction.html
- 1:1å£°çº¹éªŒè¯
- 1:Nå£°çº¹è¯†åˆ«
- è®­ç»ƒè¦æ±‚ï¼š3æ®µéŸ³é¢‘ï¼Œæ¯æ®µ3-10ç§’

### è…¾è®¯äº‘è¯­éŸ³ (Tencent Cloud)

**è½¬å½•æœåŠ¡**ï¼š
- APIæ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/product/1093
- å®æ—¶è½¬å½•ï¼šWebSocket
- å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼šHTTP API
- æ”¯æŒçƒ­è¯ã€è¯æ±‡è¡¨
- å…è´¹é¢åº¦ï¼šæ¯æœˆ15å°æ—¶

**å£°çº¹è¯†åˆ«**ï¼š
- APIæ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/product/1441
- å£°çº¹æ³¨å†Œ
- å£°çº¹éªŒè¯
- å£°çº¹è¯†åˆ«

### é˜¿é‡Œäº‘è¯­éŸ³ (Alibaba Cloud)

**è½¬å½•æœåŠ¡**ï¼š
- APIæ–‡æ¡£ï¼šhttps://help.aliyun.com/product/30413.html
- å®æ—¶è¯†åˆ«
- å½•éŸ³æ–‡ä»¶è¯†åˆ«
- æ”¯æŒçƒ­è¯ã€ä¸ªæ€§åŒ–å®šåˆ¶

**å£°çº¹è¯†åˆ«**ï¼š
- APIæ–‡æ¡£ï¼šhttps://help.aliyun.com/document_detail/141763.html
- å£°çº¹åº“ç®¡ç†
- å£°çº¹æ¯”å¯¹

### OpenAI Whisper (å¼€æº)

**è½¬å½•æœåŠ¡**ï¼š
- GitHubï¼šhttps://github.com/openai/whisper
- æ”¯æŒå¤šè¯­è¨€
- æœ¬åœ°è¿è¡Œï¼Œæ— APIé™åˆ¶
- éœ€è¦GPUåŠ é€Ÿ
- æ¨¡å‹å¤§å°ï¼štiny(39M) â†’ large(1550M)

### pyannote.audio (å¼€æº)

**å£°çº¹è¯†åˆ«**ï¼š
- GitHubï¼šhttps://github.com/pyannote/pyannote-audio
- è¯´è¯äººåˆ†ç¦»
- å£°çº¹è¯†åˆ«
- æœ¬åœ°è¿è¡Œï¼Œå®Œå…¨å…è´¹
- éœ€è¦GPUåŠ é€Ÿ

## ğŸ”§ æŠ€æœ¯å®ç°

### ç»Ÿä¸€æ¥å£è®¾è®¡

```typescript
// è½¬å½•æœåŠ¡ç»Ÿä¸€æ¥å£
interface ITranscriptionProvider {
  name: string;

  // å®æ—¶è½¬å½•
  startRealtime(config: RealtimeConfig): Promise<void>;
  stopRealtime(): Promise<void>;

  // æ‰¹é‡è½¬å½•
  transcribeFile(audioFile: Buffer, options: TranscriptionOptions): Promise<TranscriptResult>;

  // è·å–è½¬å½•çŠ¶æ€
  getStatus(taskId: string): Promise<TranscriptionStatus>;
}

// å£°çº¹è¯†åˆ«æœåŠ¡ç»Ÿä¸€æ¥å£
interface IVoiceprintProvider {
  name: string;

  // åˆ›å»ºå£°çº¹
  createProfile(userId: string): Promise<VoiceprintProfile>;

  // è®­ç»ƒå£°çº¹
  enrollProfile(profileId: string, audioData: Buffer): Promise<EnrollmentResult>;

  // åˆ é™¤å£°çº¹
  deleteProfile(profileId: string): Promise<void>;

  // 1:Nè¯†åˆ«ï¼ˆä»å¤šä¸ªå£°çº¹ä¸­è¯†åˆ«ï¼‰
  identifySpeaker(audioData: Buffer, profileIds: string[]): Promise<IdentificationResult>;

  // 1:1éªŒè¯ï¼ˆéªŒè¯æ˜¯å¦ä¸ºæŸäººï¼‰
  verifySpeaker(profileId: string, audioData: Buffer): Promise<VerificationResult>;
}
```

## ğŸ’° æˆæœ¬å¯¹æ¯”

### æœˆä½¿ç”¨é‡ï¼š100å°æ—¶å½•éŸ³

| æä¾›å•† | è½¬å½•æˆæœ¬ | å£°çº¹æˆæœ¬ | æ€»æˆæœ¬ |
|--------|---------|---------|--------|
| è®¯é£ | Â¥15 | Â¥30 | **Â¥45** |
| è…¾è®¯äº‘ | Â¥1440 | Â¥50 | **Â¥1490** |
| é˜¿é‡Œäº‘ | Â¥1500 | Â¥50 | **Â¥1550** |
| Azure | Â¥4200 | Â¥2100 | **Â¥6300** |
| Whisper | Â¥0 | Â¥0 | **Â¥0**ï¼ˆéœ€GPUæœåŠ¡å™¨ï¼‰ |

**æ¨è**ï¼š
- å°è§„æ¨¡ä½¿ç”¨ï¼šè®¯é£ï¼ˆæ€§ä»·æ¯”æœ€é«˜ï¼‰
- ä¸­å¤§è§„æ¨¡ï¼šè‡ªå»ºWhisperï¼ˆé•¿æœŸæ›´çœï¼‰
- ä¼ä¸šçº§ï¼šè…¾è®¯äº‘/é˜¿é‡Œäº‘ï¼ˆç¨³å®šå¯é ï¼‰

## ğŸš€ æ¥å…¥ä¼˜å…ˆçº§

### Phase 1ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ1å‘¨ï¼‰
- [x] è®¯é£è¯­éŸ³è½¬å½•
- [x] è®¯é£å£°çº¹è¯†åˆ«
- [x] DeepSeek AI

### Phase 2ï¼šæ‰©å±•æ”¯æŒï¼ˆ1å‘¨ï¼‰
- [ ] è…¾è®¯äº‘è¯­éŸ³
- [ ] è…¾è®¯äº‘å£°çº¹
- [ ] Azure Speech

### Phase 3ï¼šå¼€æºæ–¹æ¡ˆï¼ˆ1å‘¨ï¼‰
- [ ] OpenAI Whisperæœ¬åœ°éƒ¨ç½²
- [ ] pyannote.audioå£°çº¹
- [ ] æ¨¡å‹ç®¡ç†æœåŠ¡

### Phase 4ï¼šé«˜çº§åŠŸèƒ½ï¼ˆ1å‘¨ï¼‰
- [ ] æ··åˆæ¨¡å¼ï¼ˆå¤šproviderè½®è¯¢ï¼‰
- [ ] æ™ºèƒ½åˆ‡æ¢ï¼ˆæ ¹æ®å‡†ç¡®ç‡è‡ªåŠ¨é€‰æ‹©ï¼‰
- [ ] æˆæœ¬ä¼˜åŒ–ï¼ˆæ ¹æ®ä»·æ ¼è‡ªåŠ¨é€‰æ‹©ï¼‰

## ğŸ“ é…ç½®ç¤ºä¾‹

```typescript
// config/providers.ts

export const providerConfig = {
  transcription: {
    default: 'iflytek',  // é»˜è®¤ä½¿ç”¨è®¯é£
    providers: {
      iflytek: {
        appId: process.env.IFLYTEK_APP_ID,
        apiKey: process.env.IFLYTEK_API_KEY,
        apiSecret: process.env.IFLYTEK_API_SECRET,
        enabled: true
      },
      tencent: {
        secretId: process.env.TENCENT_SECRET_ID,
        secretKey: process.env.TENCENT_SECRET_KEY,
        enabled: false
      },
      azure: {
        key: process.env.AZURE_SPEECH_KEY,
        region: process.env.AZURE_SPEECH_REGION,
        enabled: false
      },
      whisper: {
        modelPath: './models/whisper-large',
        device: 'cuda',  // æˆ– 'cpu'
        enabled: false
      }
    }
  },

  voiceprint: {
    default: 'iflytek',
    providers: {
      iflytek: {
        appId: process.env.IFLYTEK_APP_ID,
        apiKey: process.env.IFLYTEK_API_KEY,
        enabled: true
      },
      tencent: {
        secretId: process.env.TENCENT_SECRET_ID,
        secretKey: process.env.TENCENT_SECRET_KEY,
        enabled: false
      },
      pyannote: {
        modelPath: './models/pyannote',
        device: 'cuda',
        enabled: false
      }
    }
  }
};
```

## ğŸ“ ç”³è¯·æŒ‡å—

### è®¯é£è¯­éŸ³
1. æ³¨å†Œï¼šhttps://www.xfyun.cn/
2. å®åè®¤è¯
3. åˆ›å»ºåº”ç”¨
4. è·å–AppIDã€APIKeyã€APISecret
5. æ–°ç”¨æˆ·èµ é€500å°æ—¶

### è…¾è®¯äº‘
1. æ³¨å†Œï¼šhttps://cloud.tencent.com/
2. å®åè®¤è¯
3. å¼€é€šè¯­éŸ³è¯†åˆ«æœåŠ¡
4. è·å–SecretIdã€SecretKey
5. æ¯æœˆ15å°æ—¶å…è´¹é¢åº¦

### é˜¿é‡Œäº‘
1. æ³¨å†Œï¼šhttps://www.aliyun.com/
2. å®åè®¤è¯
3. å¼€é€šæ™ºèƒ½è¯­éŸ³æœåŠ¡
4. è·å–AccessKey
5. æ–°ç”¨æˆ·æœ‰è¯•ç”¨é¢åº¦
